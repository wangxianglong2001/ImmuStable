<<<<<<< HEAD
ImmuStable
================

# ImmuStable

ImmuStable æ˜¯ä¸€ä¸ªç”¨äºå…ç–«ç›¸å…³å•ç»†èƒè½¬å½•ç»„æ•°æ®åˆ†æçš„ R åŒ…ã€‚  
å®ƒæä¾›äº†åŸºäº **Z-score æ ‡å‡†åŒ–**
çš„æ–¹æ³•æ¥è¯„ä¼°å¾…æµ‹æ ·æœ¬çš„åŸºå› è¡¨è¾¾æ˜¯å¦å¤„äºæ­£å¸¸èŒƒå›´ï¼Œå¹¶ç»“åˆå¯Œé›†åˆ†æä¸å¯è§†åŒ–åŠŸèƒ½ï¼Œå¸®åŠ©ç ”ç©¶è€…æ›´å¥½åœ°ç†è§£å…ç–«ç»†èƒçš„è¡¨è¾¾æ¨¡å¼å’ŒåŠŸèƒ½çŠ¶æ€ã€‚

------------------------------------------------------------------------

## âœ¨ åŠŸèƒ½æ¦‚è¿°

- **Z-score è®¡ç®—**  
  ä½¿ç”¨å‚è€ƒæ•°æ®åº“ï¼ˆWT_database_dataï¼‰å¯¹å¾…æµ‹æ ·æœ¬çš„åŸºå› è¡¨è¾¾è¿›è¡Œæ ‡å‡†åŒ–ï¼Œè‡ªåŠ¨åˆ¤å®šåŸºå› è¡¨è¾¾æ˜¯å¦å¤„äºæ­£å¸¸èŒƒå›´ï¼ˆWithin
  WT rangeï¼‰ã€é«˜äºèŒƒå›´ï¼ˆAbove WT rangeï¼‰ã€æˆ–ä½äºèŒƒå›´ï¼ˆBelow WT rangeï¼‰ã€‚

- **å‚è€ƒæ•°æ®åº“**  
  å†…ç½® WT_database_dataï¼ŒåŒ…å«å¤šä¸ªå…ç–«ç»†èƒç±»å‹çš„åŸºå› è¡¨è¾¾å‡å€¼å’Œæ ‡å‡†å·®ã€‚  
  æ”¯æŒ Helper T cellsã€CTLsã€Regulatory T cellsã€B
  cellsã€Monocytesã€Macrophagesã€DCã€NK cells ç­‰ä¸»è¦å…ç–«ç»†èƒç±»å‹ã€‚

- **å¯Œé›†åˆ†æ**  
  åŸºäºä¸Šè°ƒ/ä¸‹è°ƒåŸºå› è¿›è¡Œ KEGG ä¸
  GOï¼ˆBP/CC/MFï¼‰é€šè·¯å¯Œé›†åˆ†æï¼Œè‡ªåŠ¨ç”Ÿæˆç»Ÿè®¡ç»“æœï¼Œå¹¶å¯ä¿å­˜ä¸º Excel æ–‡ä»¶ã€‚

- **ç»“æœç»˜å›¾**  
  æä¾› dot plot ä¸ bar plot
  ä¸¤ç§å¯è§†åŒ–æ–¹å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰å±•ç¤ºçš„é€šè·¯æ•°é‡ï¼ˆtop
  Nï¼‰ã€æ ‡é¢˜å’Œé…è‰²ï¼Œç›´è§‚å±•ç¤ºå¯Œé›†é€šè·¯çš„æ˜¾è‘—æ€§ä¸åŸºå› æ•°ç›®ã€‚

------------------------------------------------------------------------

## ğŸ“Š æ•°æ®æ¥æº

WT_database_data æ•°æ®é›†æ¥æºäºç»è¿‡è´¨é‡æ§åˆ¶å’Œæ ‡å‡†åŒ–å¤„ç†çš„å•ç»†èƒ RNA-seq
æ•°æ®ï¼ŒåŒ…å«ï¼š

- **Gene**ï¼šåŸºå› ç¬¦å·æˆ– ENSEMBL ID  
- **CellType**ï¼šå…ç–«ç»†èƒç±»å‹  
- **ref_mean**ï¼šå‚è€ƒå‡å€¼  
- **ref_sd**ï¼šå‚è€ƒæ ‡å‡†å·®

è¯¥æ•°æ®åº“ä¸º Z-score
è®¡ç®—æä¾›åŸºå‡†ï¼Œç”¨äºåˆ¤å®šå¾…æµ‹æ ·æœ¬çš„è¡¨è¾¾æ°´å¹³æ˜¯å¦åç¦»æ­£å¸¸èŒƒå›´ã€‚

------------------------------------------------------------------------

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

``` r
library(ImmuStable)

# åŠ è½½å‚è€ƒæ•°æ®åº“
data(WT_database_data)

# è®¡ç®— Z-score
zmat <- compute_zscore(seurat_obj, celltype_col = "celltype", wt_ref = WT_database_data)

# å¯Œé›†åˆ†æ
res <- enrich_by_celltype(zmat, out_prefix = "example")

# ç»˜åˆ¶ç»“æœ
plots <- enrich_results_plot(res, celltype = "B cells", direction = "up", which = c("KEGG","BP"))
plots$KEGG$dot
plots$BP$bar
```
=======
ImmuStable
================

# ImmuStable

ImmuStable æ˜¯ä¸€ä¸ªç”¨äºå…ç–«ç›¸å…³å•ç»†èƒè½¬å½•ç»„æ•°æ®åˆ†æçš„ R åŒ…ã€‚  
å®ƒæä¾›äº†åŸºäº **Z-score æ ‡å‡†åŒ–**
çš„æ–¹æ³•æ¥è¯„ä¼°å¾…æµ‹æ ·æœ¬çš„åŸºå› è¡¨è¾¾æ˜¯å¦å¤„äºæ­£å¸¸èŒƒå›´ï¼Œå¹¶ç»“åˆå¯Œé›†åˆ†æä¸å¯è§†åŒ–åŠŸèƒ½ï¼Œå¸®åŠ©ç ”ç©¶è€…æ›´å¥½åœ°ç†è§£å…ç–«ç»†èƒçš„è¡¨è¾¾æ¨¡å¼å’ŒåŠŸèƒ½çŠ¶æ€ã€‚

------------------------------------------------------------------------

## âœ¨ åŠŸèƒ½æ¦‚è¿°

- **Z-score è®¡ç®—**  
  ä½¿ç”¨å‚è€ƒæ•°æ®åº“ï¼ˆWT_database_dataï¼‰å¯¹å¾…æµ‹æ ·æœ¬çš„åŸºå› è¡¨è¾¾è¿›è¡Œæ ‡å‡†åŒ–ï¼Œè‡ªåŠ¨åˆ¤å®šåŸºå› è¡¨è¾¾æ˜¯å¦å¤„äºæ­£å¸¸èŒƒå›´ï¼ˆWithin
  WT rangeï¼‰ã€é«˜äºèŒƒå›´ï¼ˆAbove WT rangeï¼‰ã€æˆ–ä½äºèŒƒå›´ï¼ˆBelow WT rangeï¼‰ã€‚

- **å‚è€ƒæ•°æ®åº“**  
  å†…ç½® WT_database_dataï¼ŒåŒ…å«å¤šä¸ªå…ç–«ç»†èƒç±»å‹çš„åŸºå› è¡¨è¾¾å‡å€¼å’Œæ ‡å‡†å·®ã€‚  
  æ”¯æŒ Helper T cellsã€CTLsã€Regulatory T cellsã€B
  cellsã€Monocytesã€Macrophagesã€DCã€NK cells ç­‰ä¸»è¦å…ç–«ç»†èƒç±»å‹ã€‚

- **å¯Œé›†åˆ†æ**  
  åŸºäºä¸Šè°ƒ/ä¸‹è°ƒåŸºå› è¿›è¡Œ KEGG ä¸
  GOï¼ˆBP/CC/MFï¼‰é€šè·¯å¯Œé›†åˆ†æï¼Œè‡ªåŠ¨ç”Ÿæˆç»Ÿè®¡ç»“æœï¼Œå¹¶å¯ä¿å­˜ä¸º Excel æ–‡ä»¶ã€‚

- **ç»“æœç»˜å›¾**  
  æä¾› dot plot ä¸ bar plot
  ä¸¤ç§å¯è§†åŒ–æ–¹å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰å±•ç¤ºçš„é€šè·¯æ•°é‡ï¼ˆtop
  Nï¼‰ã€æ ‡é¢˜å’Œé…è‰²ï¼Œç›´è§‚å±•ç¤ºå¯Œé›†é€šè·¯çš„æ˜¾è‘—æ€§ä¸åŸºå› æ•°ç›®ã€‚

------------------------------------------------------------------------

## ğŸ“Š æ•°æ®æ¥æº

WT_database_data æ•°æ®é›†æ¥æºäºç»è¿‡è´¨é‡æ§åˆ¶å’Œæ ‡å‡†åŒ–å¤„ç†çš„å•ç»†èƒ RNA-seq
æ•°æ®ï¼ŒåŒ…å«ï¼š

- **Gene**ï¼šåŸºå› ç¬¦å·æˆ– ENSEMBL ID  
- **CellType**ï¼šå…ç–«ç»†èƒç±»å‹  
- **ref_mean**ï¼šå‚è€ƒå‡å€¼  
- **ref_sd**ï¼šå‚è€ƒæ ‡å‡†å·®

è¯¥æ•°æ®åº“ä¸º Z-score
è®¡ç®—æä¾›åŸºå‡†ï¼Œç”¨äºåˆ¤å®šå¾…æµ‹æ ·æœ¬çš„è¡¨è¾¾æ°´å¹³æ˜¯å¦åç¦»æ­£å¸¸èŒƒå›´ã€‚

------------------------------------------------------------------------

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

``` r
library(ImmuStable)

# åŠ è½½å‚è€ƒæ•°æ®åº“
data(WT_database_data)

# è®¡ç®— Z-score
zmat <- compute_zscore(seurat_obj, celltype_col = "celltype", wt_ref = WT_database_data)

# å¯Œé›†åˆ†æ
res <- enrich_by_celltype(zmat, out_prefix = "example")

# ç»˜åˆ¶ç»“æœ
plots <- enrich_results_plot(res, celltype = "B cells", direction = "up", which = c("KEGG","BP"))
plots$KEGG$dot
plots$BP$bar
```
>>>>>>> da2990ab30b128f2c5eb219a17e2b5c9a53013f6
